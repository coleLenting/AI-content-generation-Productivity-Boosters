<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Content Generator - Productivity Boosters</title>
    <link rel="stylesheet" href="./styles.css">
    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ AI Productivity Booster</h1>
            <p> Generate professional content in seconds</p>
        </div>

        <div class="powered-by">
            <h3>ü§ñ Powered by Google Gemini Pro</h3>
            <p>Free AI generation with no API key required! Just start creating content instantly.</p>
        </div>

        <div class="status-message" id="statusMessage"></div>

        <div class="content-types">
            <!-- Email Assistant -->
            <div class="content-card">
                <h3><span class="icon">üìß</span>Email Assistant</h3>
                <div class="form-group">
                    <label>Email Type:</label>
                    <select id="emailType">
                        <option value="follow-up">Follow-up Email</option>
                        <option value="meeting-request">Meeting Request</option>
                        <option value="thank-you">Thank You Email</option>
                        <option value="apology">Apology Email</option>
                        <option value="introduction">Introduction Email</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Context/Details:</label>
                    <textarea id="emailContext" placeholder="e.g., Following up on delayed project with client ABC..."></textarea>
                </div>
                <div class="form-group">
                    <label>Tone:</label>
                    <select id="emailTone">
                        <option value="professional">Professional</option>
                        <option value="friendly">Friendly</option>
                        <option value="formal">Formal</option>
                        <option value="casual">Casual</option>
                    </select>
                </div>
                <button class="generate-btn" onclick="generateEmail()">Generate Email</button>
            </div>

            <!-- Meeting Summarizer -->
            <div class="content-card">
                <h3><span class="icon">üìã</span>Meeting Summarizer</h3>
                <div class="form-group">
                    <label>Meeting Title:</label>
                    <input type="text" id="meetingTitle" placeholder="e.g., Weekly Team Standup">
                </div>
                <div class="form-group">
                    <label>Meeting Notes/Bullet Points:</label>
                    <textarea id="meetingNotes" placeholder="‚Ä¢ Discussed project timeline&#10;‚Ä¢ John will handle design&#10;‚Ä¢ Next deadline: Friday"></textarea>
                </div>
                <div class="form-group">
                    <label>Summary Style:</label>
                    <select id="summaryStyle">
                        <option value="concise">Concise</option>
                        <option value="detailed">Detailed</option>
                        <option value="action-items">Action Items Focus</option>
                    </select>
                </div>
                <button class="generate-btn" onclick="generateMeetingSummary()">Generate Summary</button>
            </div>

            <!-- Report Generator -->
            <div class="content-card">
                <h3><span class="icon">üìä</span>Report Generator</h3>
                <div class="form-group">
                    <label>Report Type:</label>
                    <select id="reportType">
                        <option value="weekly">Weekly Status Report</option>
                        <option value="project">Project Update</option>
                        <option value="monthly">Monthly Summary</option>
                        <option value="incident">Incident Report</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Key Points/Data:</label>
                    <textarea id="reportData" placeholder="‚Ä¢ Completed 5 tasks&#10;‚Ä¢ Budget: 80% used&#10;‚Ä¢ Next milestones..."></textarea>
                </div>
                <div class="form-group">
                    <label>Target Audience:</label>
                    <select id="reportAudience">
                        <option value="management">Management</option>
                        <option value="team">Team Members</option>
                        <option value="client">Client</option>
                        <option value="stakeholders">Stakeholders</option>
                    </select>
                </div>
                <button class="generate-btn" onclick="generateReport()">Generate Report</button>
            </div>

            <!-- Social Media Content -->
            <div class="content-card">
                <h3><span class="icon">üì±</span>Social Media Content</h3>
                <div class="form-group">
                    <label>Platform:</label>
                    <select id="socialPlatform">
                        <option value="linkedin">LinkedIn</option>
                        <option value="twitter">Twitter/X</option>
                        <option value="facebook">Facebook</option>
                        <option value="instagram">Instagram</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Content Topic/Message:</label>
                    <textarea id="socialContent" placeholder="e.g., Sharing insights about remote work productivity..."></textarea>
                </div>
                <div class="form-group">
                    <label>Content Style:</label>
                    <select id="socialStyle">
                        <option value="professional">Professional</option>
                        <option value="engaging">Engaging</option>
                        <option value="inspirational">Inspirational</option>
                        <option value="educational">Educational</option>
                    </select>
                </div>
                <button class="generate-btn" onclick="generateSocialContent()">Generate Content</button>
            </div>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Generating your content with AI...</p>
        </div>

        <div class="result-area" id="resultArea">
            <h3>Generated Content</h3>
            <div class="result-content" id="resultContent"></div>
            <button class="copy-btn" onclick="copyToClipboard()">üìã Copy to Clipboard</button>
        </div>

        <div class="samples-section">
            <h3>üìã Sample Outputs & Features</h3>
            <div class="sample-grid">
                <div class="sample-item">
                    <h4>‚ú® Secure & Free</h4>
                    <p>No API key required from users. Everything is handled securely in the backend using Google's free Gemini Pro API.</p>
                </div>
                <div class="sample-item">
                    <h4>‚ö° Instant Generation</h4>
                    <p>Generate professional emails, meeting summaries, reports, and social media content in seconds with AI assistance.</p>
                </div>
                <div class="sample-item">
                    <h4>üõ°Ô∏è Rate Limited</h4>
                    <p>Built-in rate limiting and retry logic ensures stable performance and prevents API abuse.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showStatus(message, type) {
            const statusEl = document.getElementById('statusMessage');
            statusEl.textContent = message;
            statusEl.className = `status-message status-${type}`;
            statusEl.style.display = 'block';
            
            setTimeout(() => {
                statusEl.style.display = 'none';
            }, 4000);
        }

        function showLoading(show) {
            document.getElementById('loading').style.display = show ? 'block' : 'none';
            if (show) {
                document.getElementById('resultArea').style.display = 'none';
            }
        }

        function showResult(content) {
            document.getElementById('resultContent').textContent = content;
            document.getElementById('resultArea').style.display = 'block';
            document.getElementById('loading').style.display = 'none';
        }

        // Simplified API call - NO API KEY NEEDED!
        async function callAI(prompt) {
            try {
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        prompt: prompt
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error || `Server error: ${response.status}`);
                }

                const data = await response.json();
                return data.content;
            } catch (error) {
                console.error('API Call Error:', error);
                
                if (error.name === 'TypeError' && error.message.includes('fetch')) {
                    showStatus('Network error: Please ensure the backend server is running', 'error');
                } else {
                    showStatus(`Error: ${error.message}`, 'error');
                }
                return null;
            }
        }

        async function generateEmail() {
            const type = document.getElementById('emailType').value;
            const context = document.getElementById('emailContext').value;
            const tone = document.getElementById('emailTone').value;

            if (!context.trim()) {
                showStatus('Please provide context for the email', 'error');
                return;
            }

            const prompt = `Generate a ${tone} ${type} email with the following context: ${context}. Make it professional and concise.`;
            
            showLoading(true);
            const result = await callAI(prompt);
            
            if (result) {
                showResult(result);
            } else {
                showLoading(false);
            }
        }

        async function generateMeetingSummary() {
            const title = document.getElementById('meetingTitle').value;
            const notes = document.getElementById('meetingNotes').value;
            const style = document.getElementById('summaryStyle').value;

            if (!notes.trim()) {
                showStatus('Please provide meeting notes', 'error');
                return;
            }

            const prompt = `Create a ${style} meeting summary for "${title}" based on these notes: ${notes}. Format it professionally.`;
            
            showLoading(true);
            const result = await callAI(prompt);
            
            if (result) {
                showResult(result);
            } else {
                showLoading(false);
            }
        }

        async function generateReport() {
            const type = document.getElementById('reportType').value;
            const data = document.getElementById('reportData').value;
            const audience = document.getElementById('reportAudience').value;

            if (!data.trim()) {
                showStatus('Please provide report data/points', 'error');
                return;
            }

            const prompt = `Generate a ${type} for ${audience} using this data: ${data}. Make it structured and professional.`;
            
            showLoading(true);
            const result = await callAI(prompt);
            
            if (result) {
                showResult(result);
            } else {
                showLoading(false);
            }
        }

        async function generateSocialContent() {
            const platform = document.getElementById('socialPlatform').value;
            const content = document.getElementById('socialContent').value;
            const style = document.getElementById('socialStyle').value;

            if (!content.trim()) {
                showStatus('Please provide content topic/message', 'error');
                return;
            }

            const prompt = `Create a ${style} ${platform} post about: ${content}. Include relevant hashtags and make it engaging for the platform.`;
            
            showLoading(true);
            const result = await callAI(prompt);
            
            if (result) {
                showResult(result);
            } else {
                showLoading(false);
            }
        }

        function copyToClipboard() {
            const content = document.getElementById('resultContent').textContent;
            navigator.clipboard.writeText(content).then(() => {
                showStatus('Content copied to clipboard!', 'success');
            }).catch(() => {
                showStatus('Failed to copy content', 'error');
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            showStatus('üöÄ Ready to generate content! No setup required.', 'success');
        });
    </script>
</body>
</html>